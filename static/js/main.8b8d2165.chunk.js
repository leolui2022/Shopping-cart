(this["webpackJsonpreact-basic-course-demo-simple-shopping-cart"]=this["webpackJsonpreact-basic-course-demo-simple-shopping-cart"]||[]).push([[0],{15:function(e,t,c){},17:function(e,t,c){"use strict";c.r(t);var i=c(1),n=c.n(i),s=c(10),r=c.n(s),j=(c(15),c(3)),a=c(5),d=c(2),b=c(0);function l(e){var t=e.mainTitle;return Object(b.jsx)("h1",{children:t})}var o=c(8),O=Object(i.createContext)();function p(e){var t=e.productInfo,c=Object(i.useContext)(O),n=c.cartItems,s=c.setCartItems,r=n.findIndex((function(e){return e.id===t.id})),a=Object(i.useState)(-1===r?0:n[r].quantity),d=Object(j.a)(a,2),l=d[0],p=d[1],h=function(){if(-1===r)s([{id:t.id,name:t.name,image:t.image,price:t.price,description:t.description,quantity:1}].concat(Object(o.a)(n)));else{var e=Object(o.a)(n);e[r].quantity++,s(e)}p(l+1)};return Object(b.jsx)("div",{className:"addToCart",children:0===l?Object(b.jsx)("span",{className:"addToCartBtn",onClick:h,children:"\u52a0\u5165\u8cfc\u7269\u8eca"}):Object(b.jsxs)("div",{children:[Object(b.jsx)("span",{className:"subtractBtn",onClick:function(){if(1===n[r].quantity){var e=Object(o.a)(n);e.splice(r,1),s(e)}else{var t=Object(o.a)(n);t[r].quantity--,s(t)}p(l-1)},children:"-"}),l,"\u4ef6",Object(b.jsx)("span",{className:"addBtn",onClick:h,children:"+"})]})})}function h(){var e=Object(i.useContext)(O).cartItems,t=e.length<=0,c=e.reduce((function(e,t){return e+t.price*t.quantity}),0);return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(l,{mainTitle:"\u4f60\u7684\u8cfc\u7269\u8eca"}),t&&Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"nothingInCart",children:["\u8cfc\u7269\u8eca\u73fe\u5728\u6c92\u6709\u5546\u54c1",Object(b.jsx)("br",{}),Object(b.jsx)("br",{}),Object(b.jsx)(a.b,{to:"/",children:"\u53bb\u7522\u54c1\u9801\u770b\u770b\u5427"})]})," :"]}),!t&&Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("div",{className:"cartSection",children:Object(b.jsx)("table",{className:"checkoutTable",children:Object(b.jsx)("tbody",{children:e.map((function(e){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{children:Object(b.jsx)(a.b,{to:"/product/"+e.id,children:Object(b.jsx)("img",{src:"/Shopping-cart/img/"+e.image,alt:e.name})})}),Object(b.jsxs)("td",{children:[Object(b.jsxs)("p",{children:["\u540d\u7a31 : ",e.name]}),Object(b.jsxs)("p",{children:["\u552e\u50f9 : ",e.price,"\u5143"]}),Object(b.jsxs)("p",{children:["\u63cf\u8ff0 : ",e.description]})]}),Object(b.jsx)("td",{width:"200",children:Object(b.jsx)(p,{productInfo:e})}),Object(b.jsx)("td",{children:Object(b.jsxs)("div",{className:"productSubTotal",children:["$",e.price*e.quantity]})})]},e.id)}))})})}),Object(b.jsxs)("div",{className:"checkoutSection",children:[Object(b.jsx)("div",{children:"\u5168\u90e8\u8ca8\u54c1\u7e3d\u5171"}),Object(b.jsxs)("div",{className:"grandTotal",children:[c,"\u5143"]}),c>=99?Object(b.jsx)("div",{className:"freeShipping",children:"\u2714\ufe0f\u6211\u5011\u514d\u8cbb\u9001\u8ca8"}):Object(b.jsxs)("div",{className:"noShipping",children:["\u6eff$",99,"\u514d\u8cbb\u9001\u8ca8",Object(b.jsx)("br",{}),"\u9084\u5dee$",99-c]}),Object(b.jsx)("button",{children:"\u7d50\u5e33\u4ed8\u6b3e"})]})]})]})}function m(){var e=Object(d.g)(),t=Object(i.useState)(null),c=Object(j.a)(t,2),n=c[0],s=c[1];return Object(i.useEffect)((function(){fetch("https://hoyinleung.github.io/demoapi/react-basic-product.json").then((function(e){return e.json()})).then((function(t){var c=t.find((function(t){return t.id===parseInt(e.id)}));s(c)}))}),[e.id]),Object(b.jsxs)("div",{children:[n&&Object(b.jsxs)("div",{className:"ProductDetail",children:[Object(b.jsx)(l,{mainTitle:n.name+"\u7522\u54c1\u8cc7\u6599"}),Object(b.jsx)("table",{width:"100%",children:Object(b.jsx)("tbody",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("td",{align:"right",children:Object(b.jsx)("img",{src:"/Shopping-cart/img/"+n.image,alt:n.name,width:"400"})}),Object(b.jsxs)("td",{width:"45%",padding:"10",children:[Object(b.jsxs)("p",{children:["\u540d\u7a31 : ",n.name]}),Object(b.jsxs)("p",{children:["\u552e\u50f9 : ",n.price,"\u5143"]}),Object(b.jsxs)("p",{children:["\u63cf\u8ff0 : ",n.description]}),Object(b.jsx)("br",{}),Object(b.jsx)(p,{productInfo:n})]})]})})})]}),Object(b.jsx)(a.b,{to:"/",children:Object(b.jsx)("div",{className:"backToGoodsListBtn",children:"\u21a9\ufe0f \u8fd4\u56de\u5546\u54c1\u5217\u8868"})})]})}var x=[{id:1,name:"1\u860b\u679c",price:5,image:"apple.jpg",description:"\u65b0\u9bae\u860b\u679c50\u514b\uff0c\u4e00\u65e5\u4e00\u860b\u679c\uff0c\u91ab\u751f\u9060\u96e2\u6211"},{id:2,name:"1\u6a59",price:3,image:"orange.jpg",description:"\u65b0\u9bae\u6a5950\u514b\uff0c\u53c8\u751c\u53c8\u597d\u5403"},{id:3,name:"1\u8292\u679c",price:4,image:"mango.jpg",description:"\u65b0\u9bae\u8292500\u514b\uff0c\u5b9c\u505a\u751c\u54c1"},{id:4,name:"1\u897f\u74dc",price:20,image:"watermelon.jpg",description:"\u65b0\u9bae\u897f\u74dc2\u516c\u65a4\uff0c\u590f\u5b63\u5fc5\u5099"},{id:5,name:"1\u85cd\u6885",price:10,image:"blueberry.jpg",description:"\u65b0\u9bae\u85cd\u688550\u514b\uff0c\u88dc\u773c\u4e4b\u5bf6"},{id:6,name:"1\u767d\u863f\u8514",price:5,image:"white-carrot.jpg",description:"\u65b0\u9bae\u767d\u863f\u85141\u516c\u65a4\uff0c\u5b9c\u7172\u6e6f"},{id:7,name:"1\u767d\u863f\u8514",price:5,image:"TBF00050.jpg",description:"\u65b0\u9bae\u767d\u863f\u85141\u516c\u65a4\uff0c\u5b9c\u7172\u6e6f"},{id:8,name:"1\u767d\u863f\u8514",price:5,image:"TBF00095_thumb.jpg",description:"\u65b0\u9bae\u767d\u863f\u85141\u516c\u65a4\uff0c\u5b9c\u7172\u6e6f"},{id:9,name:"1\u767d\u863f\u8514",price:5,image:"TBF00124_thumb.jpg",description:"\u65b0\u9bae\u767d\u863f\u85141\u516c\u65a4\uff0c\u5b9c\u7172\u6e6f"}];function u(){var e=Object(i.useState)(x),t=Object(j.a)(e,2),c=t[0];t[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(l,{mainTitle:"React\u5165\u9580\u6c34\u679c\u5e97"}),Object(b.jsx)("div",{className:"container",children:c.map((function(e){return Object(b.jsx)(n.a.Fragment,{children:Object(b.jsxs)("div",{className:"containerItem",children:[Object(b.jsx)(a.b,{to:"/product/"+e.id,children:Object(b.jsx)("img",{src:"/Shopping-cart/img/"+e.image,alt:e.name})}),Object(b.jsxs)("div",{className:"productName",children:[e.name,"  -  ",e.price,"\u5143/\u4ef6"]}),Object(b.jsx)(p,{productInfo:e})]})},e.id)}))})]})}var g=function(){var e=Object(i.useState)([]),t=Object(j.a)(e,2),c=t[0],n=t[1];return Object(b.jsx)(a.a,{basename:"/Shopping-cart",children:Object(b.jsxs)(O.Provider,{value:{cartItems:c,setCartItems:n},children:[Object(b.jsxs)("nav",{children:[Object(b.jsx)(a.b,{to:"/",children:"\u9996\u9801"}),Object(b.jsx)(a.b,{to:"/checkout",children:"\u8cfc\u7269\u8eca"})]}),Object(b.jsxs)(d.c,{children:[Object(b.jsx)(d.a,{path:"/",element:Object(b.jsx)(u,{})}),Object(b.jsx)(d.a,{path:"/checkout",element:Object(b.jsx)(h,{})}),Object(b.jsx)(d.a,{path:"/product",element:Object(b.jsx)(m,{}),children:Object(b.jsx)(d.a,{path:":id",element:Object(b.jsx)(m,{})})}),Object(b.jsx)(d.a,{path:"*",element:Object(b.jsx)("p",{children:"\u627e\u4e0d\u5230\u9801\u9762"})})]})]})})};r.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(g,{})}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.8b8d2165.chunk.js.map