{"version":3,"sources":["Title.js","CartContext.js","QuantityBtn.js","Checkout.js","ProductDetail.js","react-basic-product.js","ProductList.js","App.js","index.js"],"names":["Title","mainTitle","CartContext","createContext","QuantityBtn","productInfo","useContext","cartItems","setCartItems","productIndexInCart","findIndex","element","id","useState","quantity","numInCart","setNumInCart","handleAdd","name","image","price","description","newCartArray","className","onClick","splice","Checkout","cartEmpty","length","grandTotal","reduce","total","product","to","map","src","process","alt","width","ProductDetail","params","useParams","productDetail","setProductDetail","useEffect","fetch","then","response","json","data","find","parseInt","align","padding","item","ProductList","productList","Fragment","App","basename","Provider","value","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8b8d2165.chunk.js","sourcesContent":["export default function Title({mainTitle}) {\n    return (\n        <h1>{mainTitle}</h1>\n    )\n}\n","import { createContext } from \"react\";\n\nexport const CartContext = createContext()","import { useContext, useState } from \"react\"\nimport { CartContext } from \"./CartContext\"\n\nexport default function QuantityBtn({productInfo}) {\n\n    const {cartItems, setCartItems} = useContext(CartContext)\n\n    //購物車內有冇該產品\n    let productIndexInCart = cartItems.findIndex((element)=>{\n        return element.id === productInfo.id\n    })\n    //findIndex()\n    //如果係購物車內找到該件產品 => 返回索引位置 0, 1, 2, 3.....\n    //該件產品沒有被加入過去購物車 => 返回 -1\n\n    let [numInCart,setNumInCart] = useState(\n        (productIndexInCart===-1) ? 0 : cartItems[productIndexInCart].quantity\n    )\n\n    const handleAdd = ()=>{\n\n        if(productIndexInCart===-1)\n        {\n            //購物車本身沒有，在cartItems array中加個新element (object)\n            setCartItems(\n                [{\n                    id : productInfo.id,\n                    name:productInfo.name,\n                    image:productInfo.image,\n                    price:productInfo.price,\n                    description:productInfo.description,\n                    quantity:1\n                },\n                ...cartItems]\n            )\n        }\n        else\n        {\n            //購物車有該產品，只加個quantity\n            let newCartArray = [...cartItems]\n            newCartArray[productIndexInCart].quantity++\n            setCartItems(newCartArray)\n        }\n\n        setNumInCart(numInCart+1)\n    }\n\n    const handleSubtract = ()=>{\n\n        if(cartItems[productIndexInCart].quantity===1)\n        {\n            //購在物車中只剩一件的話，remove object\n            let newCartArray = [...cartItems]\n            newCartArray.splice(productIndexInCart,1)\n            setCartItems(newCartArray)\n        }\n        else\n        {\n            //只減個quantity\n            let newCartArray = [...cartItems]\n            newCartArray[productIndexInCart].quantity--\n            setCartItems(newCartArray)\n        }\n\n        setNumInCart(numInCart-1)\n    }\n\n    return (\n        <div className=\"addToCart\">\n            {\n                (numInCart === 0) ?\n                <span className=\"addToCartBtn\" onClick={handleAdd}>加入購物車</span> :\n                <div>\n                    <span className=\"subtractBtn\" onClick={handleSubtract}>-</span>\n                    {numInCart}件\n                    <span className=\"addBtn\" onClick={handleAdd}>+</span>\n                </div>\n            }\n        </div>\n    )\n}\n","import Title from \"./Title\"\nimport {Link} from 'react-router-dom'\nimport QuantityBtn from \"./QuantityBtn\"\nimport { CartContext } from \"./CartContext\"\nimport { useContext } from \"react\"\n\nexport default function Checkout() {\n\n    let {cartItems} = useContext(CartContext)\n    let cartEmpty = cartItems.length<=0 ? true : false\n\n    let grandTotal = cartItems.reduce((total, product)=>{\n        return total += product.price*product.quantity\n    },0)\n    const freeShippingPrice = 99\n\n    return (\n        <>\n            <Title mainTitle=\"你的購物車\" />\n\n            {\n                cartEmpty && \n                <div>\n                    <div className=\"nothingInCart\">購物車現在沒有商品<br/><br/>\n                    <Link to=\"/\">去產品頁看看吧</Link></div> :\n                </div>\n            }\n\n            {\n                !cartEmpty &&\n                <div className=\"container\">\n                    <div className=\"cartSection\">\n                        <table className=\"checkoutTable\">\n                            <tbody>\n                                {\n                                    cartItems.map(product=>(\n                                        <tr key={product.id}>\n                                            <td>\n                                                <Link to={'/product/'+product.id}>\n                                                <img src={process.env.PUBLIC_URL+'/img/'+product.image} alt={product.name}/>\n                                                </Link>\n                                            </td>\n                                            <td>\n                                                <p>名稱 : {product.name}</p>\n                                                <p>售價 : {product.price}元</p>\n                                                <p>描述 : {product.description}</p>\n                                            </td>\n                                            <td width=\"200\">\n                                                <QuantityBtn productInfo={product} />\n                                            </td>\n                                            <td>\n                                                <div className=\"productSubTotal\">\n                                                    ${product.price*product.quantity}\n                                                </div>\n                                            </td>\n                                        </tr>\n\n                                    ))\n                                }\n                            </tbody>\n                        </table>\n                    </div>\n                    <div className=\"checkoutSection\">\n                        <div>全部貨品總共</div>\n                        <div className=\"grandTotal\">{grandTotal}元</div>\n                        {\n                            grandTotal >= freeShippingPrice ? \n                            <div className=\"freeShipping\">✔️我們免費送貨</div> :\n                            <div className=\"noShipping\">滿${freeShippingPrice}免費送貨<br/>還差${freeShippingPrice-grandTotal}</div>\n                        }\n                        \n                        <button>結帳付款</button>\n                    </div>\n                </div> \n            }\n\n        </>\n    )\n}\n","import {useParams, Link} from \"react-router-dom\"\nimport Title from \"./Title\"\nimport QuantityBtn from \"./QuantityBtn\"\nimport { useState,useEffect } from \"react\"\n\nexport default function ProductDetail() {\n\n    let params = useParams()\n    let [productDetail,setProductDetail] = useState(null)\n\n    useEffect(()=>{\n\n        //1 : 無第二個參數 : component每次render都會觸發\n        //2 : Dependency Array是空array時 : 只會在第一次網頁render時會觸發\n        //3 : Dependency Array是有變數時 : 第一次網頁render時 + 指定的變數改變 會觸發\n        fetch('https://hoyinleung.github.io/demoapi/react-basic-product.json')\n            .then(response => response.json())\n            .then(data => {\n                let productInfo = data.find((element)=>{\n                    return element.id === parseInt(params.id)\n                })\n                setProductDetail(productInfo)\n            })\n    },[params.id]) // <==  Dependency Array\n\n    return (\n        <div>\n            {\n                productDetail &&\n                <div className=\"ProductDetail\">\n                    <Title mainTitle={productDetail.name+'產品資料'} />\n\n                    <table width=\"100%\">\n                        <tbody>\n                        <tr>\n                            <td align=\"right\">\n                                <img src={process.env.PUBLIC_URL+'/img/'+productDetail.image} alt={productDetail.name} width=\"400\" />\n                            </td>\n                            <td width=\"45%\" padding=\"10\">\n                                <p>名稱 : {productDetail.name}</p>\n                                <p>售價 : {productDetail.price}元</p>\n                                <p>描述 : {productDetail.description}</p><br/>\n                                <QuantityBtn productInfo={productDetail} />\n                            </td>\n                        </tr>\n                        </tbody>\n                    </table>\n                </div>\n            }\n        \n            <Link to=\"/\" >\n                <div className=\"backToGoodsListBtn\">↩️ 返回商品列表</div>\n            </Link>\n        </div>\n    )\n}\n","const item = [\r\n    {\"id\" : 1,\"name\" : \"1蘋果\", \"price\" : 5, \"image\" : \"apple.jpg\",\"description\":\"新鮮蘋果50克，一日一蘋果，醫生遠離我\"},\r\n    {\"id\" : 2,\"name\" : \"1橙\", \"price\" : 3, \"image\" : \"orange.jpg\",\"description\":\"新鮮橙50克，又甜又好吃\"},\r\n    {\"id\" : 3,\"name\" : \"1芒果\", \"price\" : 4, \"image\" : \"mango.jpg\",\"description\":\"新鮮芒500克，宜做甜品\"},\r\n    {\"id\" : 4,\"name\" : \"1西瓜\", \"price\" : 20,\"image\" : \"watermelon.jpg\",\"description\":\"新鮮西瓜2公斤，夏季必備\"},\r\n    {\"id\" : 5,\"name\" : \"1藍梅\", \"price\" : 10,\"image\" : \"blueberry.jpg\",\"description\":\"新鮮藍梅50克，補眼之寶\"},\r\n    {\"id\" : 6,\"name\" : \"1白蘿蔔\", \"price\" : 5,\"image\" : \"white-carrot.jpg\",\"description\":\"新鮮白蘿蔔1公斤，宜煲湯\"},\r\n    {\"id\" : 7,\"name\" : \"1白蘿蔔\", \"price\" : 5,\"image\" : \"TBF00050.jpg\",\"description\":\"新鮮白蘿蔔1公斤，宜煲湯\"},\r\n    {\"id\" : 8,\"name\" : \"1白蘿蔔\", \"price\" : 5,\"image\" : \"TBF00095_thumb.jpg\",\"description\":\"新鮮白蘿蔔1公斤，宜煲湯\"},\r\n    {\"id\" : 9,\"name\" : \"1白蘿蔔\", \"price\" : 5,\"image\" : \"TBF00124_thumb.jpg\",\"description\":\"新鮮白蘿蔔1公斤，宜煲湯\"},\r\n]\r\n\r\nexport default item","import {Link} from \"react-router-dom\"\nimport React, {useState, useEffect} from \"react\"  //React Hook\nimport Title from \"./Title\"\nimport QuantityBtn from \"./QuantityBtn\"\nimport item from \"./react-basic-product.js\"\nexport default function ProductList() {\n\n    let [productList, setProductList] = useState(item)\n\n    /* useEffect hook\n    useEffect(()=>{\n\n        //1 : 無第二個參數 : component每次render都會觸發\n        //2 : Dependency Array是空array時 : 只會在第一次網頁render時會觸發\n        //3 : Dependency Array是有變數時 : 第一次網頁render時 + 指定的變數改變 會觸發\n        //fetch('https://hoyinleung.github.io/demoapi/react-basic-product.json')\n        //fetch('https://leolui2022.github.io/webCourse/react-basic-product.json')\n\n        \n            .then(response => response.json())\n            .then(data => setProductList(data))\n\n    },[]) <==  Dependency Array\n */\n    return (\n        //React Fragment簡寫\n        <>\n            <Title mainTitle=\"React入門水果店\" />\n            \n            <div className=\"container\">\n                {\n                    productList.map(product=>(\n                        <React.Fragment key={product.id}>\n\n                            <div className=\"containerItem\">\n                                <Link to={'/product/'+product.id}>\n                                    <img src={process.env.PUBLIC_URL+'/img/'+product.image} alt={product.name} />\n                                </Link>\n\n                                <div className=\"productName\">\n                                    {product.name}  -  {product.price}元/件\n                                </div>\n                \n                                <QuantityBtn productInfo={product} />\n                            </div>\n\n                        </React.Fragment>\n                    ))\n                }\n            </div>\n        </>\n    )\n}\n","import { BrowserRouter, Routes, Route, Link } from 'react-router-dom';\nimport Checkout from './Checkout';\nimport ProductDetail from './ProductDetail';\nimport ProductList from './ProductList';\nimport {CartContext} from './CartContext'\nimport { useState } from 'react';\n\nfunction App() {\n\n\tconst [cartItems, setCartItems] = useState([])\n\n  return (\n    <BrowserRouter   basename=\"/Shopping-cart\">\n\n\t\t<CartContext.Provider value={{cartItems,setCartItems}}>\n\n\t\t\t<nav>\n\t\t\t\t<Link to=\"/\">首頁</Link> \n\t\t\t\t<Link to=\"/checkout\">購物車</Link>\n\t\t\t</nav>\n\n\t\t\t<Routes>\n\t\t\t\t<Route path=\"/\" element={<ProductList/>} />\n\t\t\t\t<Route path=\"/checkout\" element={<Checkout/>} />\n\n\t\t\t\t<Route path=\"/product\" element={<ProductDetail/>}>\n\t\t\t\t\t<Route path=\":id\" element={<ProductDetail/>} />\n\t\t\t\t</Route>\n\n\t\t\t\t<Route path=\"*\" element={<p>找不到頁面</p>}/>\n\t\t\t</Routes>\n\n\t\t</CartContext.Provider>\n\n\t</BrowserRouter>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}